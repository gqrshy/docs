---
import CustomNav from '../../components/CustomNav.astro';
import Footer from '../../components/Footer.astro';
import LanguageSwitcher from '../../components/LanguageSwitcher.astro';

const title = 'CobbleRanked Live Stats Demo';
const description = 'Live demo of Pokemon usage statistics and ranked leaderboard data from CobbleRanked API.';
---

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="icon" type="image/png" href="/gashistudios.png" />
	<meta name="description" content={description} />
	<title>{title}</title>
	<meta property="og:title" content={title} />
	<meta property="og:description" content={description} />
	<meta name="theme-color" content="#7c3aed" />
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Noto+Sans+JP:wght@400;500;700;900&display=swap" rel="stylesheet">
</head>
<body>
	<CustomNav />

	<!-- Main Stats Layout -->
	<div class="stats-layout">
		<!-- Left Sidebar -->
		<aside class="sidebar">
			<!-- Format Selector -->
			<div class="sidebar-section">
				<div class="section-label">Format</div>
				<div class="format-tabs">
					<button class="format-tab active" data-format="SINGLES">Singles</button>
					<button class="format-tab" data-format="DOUBLES">Doubles</button>
					<button class="format-tab" data-format="TRIPLES">Triples</button>
				</div>
			</div>

			<!-- Current Season Display -->
			<div class="sidebar-section">
				<div class="section-label">Season</div>
				<div class="current-season" id="current-season-display">Loading...</div>
			</div>

			<!-- ELO Range Slider -->
			<div class="sidebar-section">
				<div class="section-label">Elo Range</div>
				<div class="elo-range-container">
					<div class="elo-range-inputs">
						<div class="elo-input-group">
							<input type="number" id="elo-min-input" class="elo-input" value="1000" min="0" max="3000">
						</div>
						<div class="elo-input-group">
							<input type="number" id="elo-max-input" class="elo-input" value="1500" min="0" max="3000">
						</div>
					</div>
					<div class="elo-slider-container">
						<div class="elo-slider-track">
							<div class="elo-slider-range" id="elo-slider-range"></div>
						</div>
						<input type="range" id="elo-min-slider" class="elo-slider" min="0" max="3000" value="1000" step="50">
						<input type="range" id="elo-max-slider" class="elo-slider" min="0" max="3000" value="1500" step="50">
					</div>
				</div>
			</div>

			<!-- Pokemon Usage List -->
			<div class="sidebar-section pokemon-list-section">
				<div class="pokemon-list" id="pokemon-list">
					<!-- Populated by JavaScript -->
				</div>
			</div>
		</aside>

		<!-- Main Content -->
		<main class="main-content">
			<!-- Pokemon Detail View -->
			<div class="pokemon-detail" id="pokemon-detail">
				<!-- Header -->
				<div class="detail-header">
					<h1 class="pokemon-title">
						<span id="pokemon-name">Ogerpon-Wellspring</span>
						<span class="pokemon-types" id="pokemon-types"></span>
					</h1>
					<div class="usage-stats-summary">
						<div class="stat-box">
							<span class="stat-label">Usage Rank</span>
							<span class="stat-value rank" id="usage-rank">#1</span>
						</div>
						<div class="stat-box">
							<span class="stat-label">Usage Percent</span>
							<span class="stat-value percent" id="usage-percent">32.58%</span>
						</div>
						<div class="stat-box">
							<span class="stat-label">Samples</span>
							<span class="stat-value" id="usage-samples">3,939</span>
						</div>
					</div>
				</div>

				<!-- Detail Grid -->
				<div class="detail-grid">
					<!-- Moves -->
					<div class="detail-card">
						<h3 class="card-title">Moves</h3>
						<div class="moves-list" id="moves-list">
							<!-- Populated by JavaScript -->
						</div>
					</div>

					<!-- Teammates -->
					<div class="detail-card">
						<h3 class="card-title">Teammates</h3>
						<div class="teammates-list" id="teammates-list">
							<!-- Populated by JavaScript -->
						</div>
					</div>

					<!-- Items -->
					<div class="detail-card">
						<h3 class="card-title">Items</h3>
						<div class="items-list" id="items-list">
							<!-- Populated by JavaScript -->
						</div>
					</div>

					<!-- Abilities -->
					<div class="detail-card">
						<h3 class="card-title">Abilities</h3>
						<div class="abilities-list" id="abilities-list">
							<!-- Populated by JavaScript -->
						</div>
					</div>

					<!-- EV Spreads -->
					<div class="detail-card ev-spreads-card">
						<h3 class="card-title">EV Spreads (HP, Atk, Def, SpA, SpD, Spe)</h3>
						<div class="ev-spreads-list" id="ev-spreads-list">
							<!-- Populated by JavaScript -->
						</div>
					</div>
				</div>
			</div>
		</main>
	</div>

	<!-- API Info Section -->
	<section class="api-info-section">
		<div class="container">
			<div class="api-card">
				<div class="api-card-header">
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
						<path d="M12 2L2 7l10 5 10-5-10-5z"/>
						<path d="M2 17l10 5 10-5M2 12l10 5 10-5"/>
					</svg>
					<h3>CobbleRanked Web API</h3>
				</div>
				<p class="api-desc">
					This demo showcases data that can be synced from your CobbleRanked server to your website using the Web API integration.
					Configure automatic sync intervals, API authentication, and customize what data to push.
				</p>
				<a href="/docs/cobbleranked/configuration/api/" class="api-link">
					<span>Learn more about API configuration</span>
					<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
						<path d="M5 12h14M12 5l7 7-7 7"/>
					</svg>
				</a>
			</div>
		</div>
	</section>

	<Footer />
	<LanguageSwitcher />

	<script is:inline>
	(function() {
		// State
		let pokemonData = [];
		let selectedPokemon = null;
		let currentFormat = 'SINGLES';
		let currentEloMin = 1000;
		let currentEloMax = 1500;
		let isLoading = false;
		let isDemo = false;
		let currentSeasonName = 'Loading...';

		// Fetch usage stats from API
		async function fetchUsageStats() {
			isLoading = true;
			updateLoadingState();

			try {
				const response = await fetch(`/api/cobbleranked/usage-stats?serverId=battle&format=${currentFormat}`);
				const data = await response.json();

				isDemo = data.isDemo || false;
				currentSeasonName = data.season || data.seasonName || 'Unknown Season';
				document.getElementById('current-season-display').textContent = currentSeasonName;

				// Find the matching tier based on ELO range
				let tierData = null;
				if (data.tiers) {
					// Try to find exact match or closest tier
					for (const [tierKey, tier] of Object.entries(data.tiers)) {
						const tierMin = tier.minElo || 0;
						const tierMax = tier.maxElo || 99999;
						if (currentEloMin >= tierMin && (tierMax === null || currentEloMax <= tierMax || tierMax === 99999)) {
							tierData = tier;
							break;
						}
					}
					// If no exact match, use first available tier
					if (!tierData) {
						const tierKeys = Object.keys(data.tiers);
						if (tierKeys.length > 0) {
							tierData = data.tiers[tierKeys[0]];
						}
					}
				}

				if (tierData && tierData.species) {
					pokemonData = tierData.species.map((species, index) => ({
						name: species.name,
						usage: species.usagePercent,
						rank: index + 1,
						samples: species.count,
						moves: Object.entries(species.moves || {}).slice(0, 5).map(([name, pct]) => ({ name, pct })),
						teammates: Object.entries(species.teammates || {}).slice(0, 5).map(([name, pct]) => ({ name, pct })),
						items: Object.entries(species.items || {}).map(([name, pct]) => ({ name, pct })),
						abilities: Object.entries(species.abilities || {}).map(([name, pct]) => ({ name, pct })),
						evSpreads: Object.entries(species.evSpreads || {}).slice(0, 5).map(([key, pct]) => {
							const parts = key.split(':');
							return { nature: parts[0] || 'Hardy', spread: parts[1] || '0/0/0/0/0/0', pct };
						})
					}));
				} else {
					pokemonData = getDemoData();
				}

				// Update demo indicator
				updateDemoIndicator();

			} catch (error) {
				console.error('Failed to fetch usage stats:', error);
				pokemonData = getDemoData();
				isDemo = true;
				currentSeasonName = 'Demo Data';
				document.getElementById('current-season-display').textContent = currentSeasonName;
				updateDemoIndicator();
			}

			isLoading = false;
			updateLoadingState();

			if (pokemonData.length > 0) {
				selectedPokemon = pokemonData[0];
			}
			renderPokemonList();
			renderPokemonDetail();
		}

		function updateLoadingState() {
			const container = document.getElementById('pokemon-list');
			if (isLoading) {
				container.innerHTML = '<div style="padding: 1rem; text-align: center; color: rgba(255,255,255,0.5);">Loading...</div>';
			}
		}

		function updateDemoIndicator() {
			// Could add a visual indicator for demo mode
		}

		function getDemoData() {
			return [
				{
					name: 'Ogerpon-Wellspring', usage: 32.58, rank: 1, samples: 3939,
					moves: [
						{ name: 'Ivy Cudgel', pct: 100.0 },
						{ name: 'Horn Leech', pct: 78.55 },
						{ name: 'Swords Dance', pct: 75.88 },
						{ name: 'Superpower', pct: 34.48 },
						{ name: 'U-turn', pct: 30.41 }
					],
					teammates: [
						{ name: 'Moltres', pct: 18.99 },
						{ name: 'Ironvaliant', pct: 18.13 },
						{ name: 'Dragapult-Ultra', pct: 17.47 }
					],
					items: [{ name: 'Wellspring Mask', pct: 100.0 }],
					abilities: [{ name: 'Water Absorb', pct: 100.0 }],
					evSpreads: [
						{ nature: 'Jolly', spread: '0/252/0/0/4/252', pct: 36.15 },
						{ nature: 'Jolly', spread: '4/252/0/0/0/252', pct: 20.03 }
					]
				},
				{
					name: 'Alomomola', usage: 30.09, rank: 2, samples: 3638,
					moves: [
						{ name: 'Flip Turn', pct: 95.2 },
						{ name: 'Wish', pct: 92.4 },
						{ name: 'Protect', pct: 88.1 },
						{ name: 'Scald', pct: 45.3 }
					],
					teammates: [
						{ name: 'Ogerpon-Wellspring', pct: 22.1 },
						{ name: 'Corviknight', pct: 18.4 }
					],
					items: [{ name: 'Heavy-Duty Boots', pct: 78.4 }, { name: 'Leftovers', pct: 21.6 }],
					abilities: [{ name: 'Regenerator', pct: 100.0 }],
					evSpreads: [{ nature: 'Bold', spread: '252/0/252/0/4/0', pct: 45.2 }]
				},
				{
					name: 'Gengar-Ultra', usage: 26.66, rank: 3, samples: 3223,
					moves: [
						{ name: 'Shadow Ball', pct: 98.5 },
						{ name: 'Sludge Wave', pct: 78.2 },
						{ name: 'Focus Blast', pct: 62.4 },
						{ name: 'Nasty Plot', pct: 45.1 }
					],
					teammates: [{ name: 'Landorus-Therian', pct: 28.4 }],
					items: [{ name: 'Choice Specs', pct: 52.3 }, { name: 'Life Orb', pct: 38.2 }],
					abilities: [{ name: 'Cursed Body', pct: 100.0 }],
					evSpreads: [{ nature: 'Timid', spread: '0/0/0/252/4/252', pct: 68.4 }]
				},
				{
					name: 'Landorus-Therian', usage: 24.96, rank: 4, samples: 3018,
					moves: [
						{ name: 'Earthquake', pct: 99.1 },
						{ name: 'U-turn', pct: 85.4 },
						{ name: 'Stealth Rock', pct: 72.3 },
						{ name: 'Stone Edge', pct: 45.8 }
					],
					teammates: [{ name: 'Corviknight', pct: 32.1 }],
					items: [{ name: 'Rocky Helmet', pct: 45.8 }, { name: 'Leftovers', pct: 32.1 }],
					abilities: [{ name: 'Intimidate', pct: 99.2 }],
					evSpreads: [{ nature: 'Impish', spread: '252/0/252/0/4/0', pct: 52.3 }]
				},
				{
					name: 'Ironvaliant', usage: 23.58, rank: 5, samples: 2851,
					moves: [
						{ name: 'Close Combat', pct: 92.4 },
						{ name: 'Moonblast', pct: 88.2 },
						{ name: 'Swords Dance', pct: 65.1 },
						{ name: 'Knock Off', pct: 42.3 }
					],
					teammates: [{ name: 'Ogerpon-Wellspring', pct: 25.4 }],
					items: [{ name: 'Booster Energy', pct: 78.4 }],
					abilities: [{ name: 'Quark Drive', pct: 100.0 }],
					evSpreads: [{ nature: 'Jolly', spread: '0/252/0/0/4/252', pct: 58.2 }]
				}
			];
		}

		// Render Pokemon List
		function renderPokemonList() {
			const container = document.getElementById('pokemon-list');
			container.innerHTML = '';

			pokemonData.forEach((pokemon, index) => {
				const item = document.createElement('div');
				item.className = `pokemon-item ${index === 0 ? 'active' : ''}`;
				item.dataset.index = index;

				item.innerHTML = `
					<span class="pokemon-item-name">${pokemon.name}</span>
					<span class="pokemon-item-usage">${pokemon.usage.toFixed(2)}%</span>
				`;

				item.addEventListener('click', () => {
					document.querySelectorAll('.pokemon-item').forEach(el => el.classList.remove('active'));
					item.classList.add('active');
					selectedPokemon = pokemonData[index];
					renderPokemonDetail();
				});

				container.appendChild(item);
			});
		}

		// Render Pokemon Detail
		function renderPokemonDetail() {
			const p = selectedPokemon;

			document.getElementById('pokemon-name').textContent = p.name;
			document.getElementById('usage-rank').textContent = `#${p.rank}`;
			document.getElementById('usage-percent').textContent = `${p.usage.toFixed(2)}%`;
			document.getElementById('usage-samples').textContent = p.samples.toLocaleString();

			// Moves
			const movesContainer = document.getElementById('moves-list');
			movesContainer.innerHTML = p.moves.map(m => `
				<div class="list-item">
					<span class="item-name">${m.name}</span>
					<span class="item-pct">${m.pct.toFixed(2)}%</span>
				</div>
			`).join('');

			// Teammates
			const teammatesContainer = document.getElementById('teammates-list');
			teammatesContainer.innerHTML = p.teammates.map(t => `
				<div class="list-item teammate-item">
					<span class="item-name">${t.name}</span>
					<span class="item-pct">${t.pct.toFixed(2)}%</span>
				</div>
			`).join('');

			// Items
			const itemsContainer = document.getElementById('items-list');
			itemsContainer.innerHTML = p.items.map(item => `
				<div class="list-item">
					<span class="item-name">${item.name}</span>
					<span class="item-pct">${item.pct.toFixed(2)}%</span>
				</div>
			`).join('');

			// Abilities
			const abilitiesContainer = document.getElementById('abilities-list');
			abilitiesContainer.innerHTML = p.abilities.map(a => `
				<div class="list-item">
					<span class="item-name">${a.name}</span>
					<span class="item-pct">${a.pct.toFixed(2)}%</span>
				</div>
			`).join('');

			// EV Spreads
			const evContainer = document.getElementById('ev-spreads-list');
			evContainer.innerHTML = p.evSpreads.map(ev => `
				<div class="list-item ev-item">
					<span class="ev-nature">${ev.nature}</span>
					<span class="ev-spread">${ev.spread}</span>
					<span class="item-pct">${ev.pct.toFixed(2)}%</span>
				</div>
			`).join('');
		}

		// Tab handlers
		document.querySelectorAll('.format-tab').forEach(btn => {
			btn.addEventListener('click', () => {
				document.querySelectorAll('.format-tab').forEach(b => b.classList.remove('active'));
				btn.classList.add('active');
				currentFormat = btn.dataset.format;
				fetchUsageStats();
			});
		});


		// ELO Range Slider
		const eloMinSlider = document.getElementById('elo-min-slider');
		const eloMaxSlider = document.getElementById('elo-max-slider');
		const eloMinInput = document.getElementById('elo-min-input');
		const eloMaxInput = document.getElementById('elo-max-input');
		const eloSliderRange = document.getElementById('elo-slider-range');

		function updateSliderRange() {
			const min = parseInt(eloMinSlider.value);
			const max = parseInt(eloMaxSlider.value);
			const sliderMax = parseInt(eloMinSlider.max);

			const minPercent = (min / sliderMax) * 100;
			const maxPercent = (max / sliderMax) * 100;

			eloSliderRange.style.left = minPercent + '%';
			eloSliderRange.style.width = (maxPercent - minPercent) + '%';
		}

		function syncSliderToInput() {
			eloMinInput.value = eloMinSlider.value;
			eloMaxInput.value = eloMaxSlider.value;
			updateSliderRange();
		}

		function syncInputToSlider() {
			let minVal = parseInt(eloMinInput.value) || 0;
			let maxVal = parseInt(eloMaxInput.value) || 3000;

			// Ensure min doesn't exceed max
			if (minVal > maxVal) {
				minVal = maxVal;
				eloMinInput.value = minVal;
			}

			eloMinSlider.value = minVal;
			eloMaxSlider.value = maxVal;
			updateSliderRange();
		}

		eloMinSlider.addEventListener('input', () => {
			if (parseInt(eloMinSlider.value) > parseInt(eloMaxSlider.value)) {
				eloMinSlider.value = eloMaxSlider.value;
			}
			syncSliderToInput();
		});

		eloMaxSlider.addEventListener('input', () => {
			if (parseInt(eloMaxSlider.value) < parseInt(eloMinSlider.value)) {
				eloMaxSlider.value = eloMinSlider.value;
			}
			syncSliderToInput();
		});

		// Debounced fetch for ELO changes
		let eloFetchTimeout = null;
		function debouncedFetch() {
			currentEloMin = parseInt(eloMinSlider.value);
			currentEloMax = parseInt(eloMaxSlider.value);
			clearTimeout(eloFetchTimeout);
			eloFetchTimeout = setTimeout(() => fetchUsageStats(), 500);
		}

		eloMinInput.addEventListener('change', () => {
			syncInputToSlider();
			debouncedFetch();
		});
		eloMaxInput.addEventListener('change', () => {
			syncInputToSlider();
			debouncedFetch();
		});

		// Initialize slider range
		updateSliderRange();

		// Initialize - fetch from API
		fetchUsageStats();
	})();
	</script>

	<style is:global>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		html {
			scroll-behavior: smooth;
		}

		body {
			font-family: 'Noto Sans JP', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
			background: #0f1419;
			color: #fff;
			line-height: 1.6;
			overflow-x: hidden;
		}

		.container {
			max-width: 1400px;
			margin: 0 auto;
			padding: 0 2rem;
		}

		/* Stats Layout */
		.stats-layout {
			display: flex;
			min-height: calc(100vh - 80px);
			padding-top: 80px;
		}

		/* Sidebar */
		.sidebar {
			width: 260px;
			background: #1a1f26;
			border-right: 1px solid rgba(255, 255, 255, 0.08);
			padding: 1rem;
			display: flex;
			flex-direction: column;
			position: fixed;
			top: 80px;
			left: 0;
			height: calc(100vh - 80px);
			overflow-y: auto;
		}

		.sidebar-section {
			margin-bottom: 1.25rem;
		}

		.section-label {
			font-size: 0.6875rem;
			font-weight: 600;
			color: rgba(255, 255, 255, 0.5);
			text-transform: uppercase;
			letter-spacing: 0.1em;
			margin-bottom: 0.5rem;
		}

		/* Format Tabs */
		.format-tabs {
			display: flex;
			gap: 0.25rem;
		}

		.format-tab {
			flex: 1;
			padding: 0.5rem 0.25rem;
			background: transparent;
			border: 1px solid rgba(255, 255, 255, 0.1);
			border-radius: 4px;
			color: rgba(255, 255, 255, 0.6);
			font-size: 0.75rem;
			font-weight: 500;
			cursor: pointer;
			transition: all 0.2s;
		}

		.format-tab:hover {
			background: rgba(255, 255, 255, 0.05);
		}

		.format-tab.active {
			background: rgba(124, 58, 237, 0.3);
			border-color: rgba(124, 58, 237, 0.5);
			color: #a78bfa;
		}

		/* Current Season Display */
		.current-season {
			padding: 0.5rem 0.75rem;
			background: rgba(124, 58, 237, 0.2);
			border: 1px solid rgba(124, 58, 237, 0.3);
			border-radius: 6px;
			color: #a78bfa;
			font-size: 0.875rem;
			font-weight: 600;
		}

		/* Season Tabs */
		.season-tabs {
			display: flex;
			gap: 0.25rem;
		}

		.season-tab {
			width: 36px;
			height: 36px;
			display: flex;
			align-items: center;
			justify-content: center;
			background: transparent;
			border: 1px solid rgba(255, 255, 255, 0.1);
			border-radius: 4px;
			color: rgba(255, 255, 255, 0.6);
			font-size: 0.875rem;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.2s;
		}

		.season-tab:hover {
			background: rgba(255, 255, 255, 0.05);
		}

		.season-tab.active {
			background: rgba(124, 58, 237, 0.3);
			border-color: rgba(124, 58, 237, 0.5);
			color: #a78bfa;
		}

		/* Stage Tabs */
		.stage-tabs {
			display: flex;
			gap: 0.25rem;
		}

		.stage-tab {
			flex: 1;
			padding: 0.5rem 0.5rem;
			background: transparent;
			border: 1px solid rgba(255, 255, 255, 0.1);
			border-radius: 4px;
			color: rgba(255, 255, 255, 0.6);
			font-size: 0.75rem;
			font-weight: 500;
			cursor: pointer;
			transition: all 0.2s;
		}

		.stage-tab:hover {
			background: rgba(255, 255, 255, 0.05);
		}

		.stage-tab.active {
			background: rgba(124, 58, 237, 0.3);
			border-color: rgba(124, 58, 237, 0.5);
			color: #a78bfa;
		}

		/* ELO Range Slider */
		.elo-range-container {
			display: flex;
			flex-direction: column;
			gap: 0.75rem;
		}

		.elo-range-inputs {
			display: flex;
			gap: 0.5rem;
		}

		.elo-input-group {
			flex: 1;
		}

		.elo-input {
			width: 100%;
			padding: 0.5rem 0.625rem;
			background: rgba(0, 0, 0, 0.3);
			border: 1px solid rgba(255, 255, 255, 0.15);
			border-radius: 4px;
			color: #fff;
			font-size: 0.875rem;
			font-weight: 600;
			text-align: center;
			outline: none;
			transition: all 0.2s;
		}

		.elo-input:focus {
			border-color: rgba(124, 58, 237, 0.5);
			background: rgba(0, 0, 0, 0.4);
		}

		.elo-input::-webkit-outer-spin-button,
		.elo-input::-webkit-inner-spin-button {
			-webkit-appearance: none;
			margin: 0;
		}

		.elo-slider-container {
			position: relative;
			height: 24px;
		}

		.elo-slider-track {
			position: absolute;
			top: 50%;
			left: 0;
			right: 0;
			height: 6px;
			background: rgba(255, 255, 255, 0.1);
			border-radius: 3px;
			transform: translateY(-50%);
		}

		.elo-slider-range {
			position: absolute;
			top: 0;
			height: 100%;
			background: linear-gradient(90deg, #7c3aed, #a78bfa);
			border-radius: 3px;
		}

		.elo-slider {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			-webkit-appearance: none;
			appearance: none;
			background: transparent;
			pointer-events: none;
			outline: none;
		}

		.elo-slider::-webkit-slider-thumb {
			-webkit-appearance: none;
			appearance: none;
			width: 18px;
			height: 18px;
			background: linear-gradient(135deg, #a78bfa, #7c3aed);
			border: 2px solid #fff;
			border-radius: 50%;
			cursor: pointer;
			pointer-events: auto;
			box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
			transition: transform 0.15s ease;
		}

		.elo-slider::-webkit-slider-thumb:hover {
			transform: scale(1.15);
		}

		.elo-slider::-moz-range-thumb {
			width: 18px;
			height: 18px;
			background: linear-gradient(135deg, #a78bfa, #7c3aed);
			border: 2px solid #fff;
			border-radius: 50%;
			cursor: pointer;
			pointer-events: auto;
			box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
		}

		/* Pokemon List */
		.pokemon-list-section {
			flex: 1;
			overflow: hidden;
			display: flex;
			flex-direction: column;
		}

		.pokemon-list {
			flex: 1;
			overflow-y: auto;
		}

		.pokemon-item {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 0.625rem 0.75rem;
			border-radius: 4px;
			cursor: pointer;
			transition: all 0.2s;
		}

		.pokemon-item:hover {
			background: rgba(255, 255, 255, 0.05);
		}

		.pokemon-item.active {
			background: rgba(236, 72, 153, 0.15);
		}

		.pokemon-item.active .pokemon-item-name {
			color: #ec4899;
		}

		.pokemon-item-name {
			font-size: 0.875rem;
			font-weight: 500;
			color: rgba(255, 255, 255, 0.9);
		}

		.pokemon-item-usage {
			font-size: 0.8125rem;
			font-weight: 600;
			color: rgba(255, 255, 255, 0.6);
		}

		/* Main Content */
		.main-content {
			flex: 1;
			margin-left: 260px;
			padding: 1.5rem 2rem;
			background: #0f1419;
		}

		/* Pokemon Detail */
		.pokemon-detail {
			max-width: 1200px;
		}

		.detail-header {
			display: flex;
			justify-content: space-between;
			align-items: flex-start;
			margin-bottom: 2rem;
			border-bottom: 1px solid rgba(255, 255, 255, 0.08);
			padding-bottom: 1.5rem;
		}

		.pokemon-title {
			font-size: 2rem;
			font-weight: 700;
			display: flex;
			align-items: center;
			gap: 0.75rem;
		}

		.usage-stats-summary {
			display: flex;
			gap: 2rem;
		}

		.stat-box {
			text-align: center;
		}

		.stat-box .stat-label {
			display: block;
			font-size: 0.75rem;
			color: rgba(255, 255, 255, 0.5);
			margin-bottom: 0.25rem;
		}

		.stat-box .stat-value {
			font-size: 1.25rem;
			font-weight: 700;
		}

		.stat-box .stat-value.rank {
			color: #22c55e;
		}

		.stat-box .stat-value.percent {
			color: #ec4899;
		}

		/* Detail Grid */
		.detail-grid {
			display: grid;
			grid-template-columns: repeat(3, 1fr);
			gap: 1.5rem;
		}

		.detail-card {
			background: rgba(255, 255, 255, 0.03);
			border: 1px solid rgba(255, 255, 255, 0.08);
			border-radius: 8px;
			padding: 1rem;
		}

		.detail-card.ev-spreads-card {
			grid-column: span 1;
		}

		.card-title {
			font-size: 0.875rem;
			font-weight: 600;
			color: rgba(255, 255, 255, 0.7);
			margin-bottom: 1rem;
			padding-bottom: 0.5rem;
			border-bottom: 1px solid rgba(255, 255, 255, 0.08);
		}

		/* Base Stats */
		.stat-row {
			display: flex;
			align-items: center;
			margin-bottom: 0.625rem;
		}

		.stat-name {
			width: 70px;
			font-size: 0.8125rem;
			color: rgba(255, 255, 255, 0.6);
		}

		.stat-num {
			width: 35px;
			font-size: 0.875rem;
			font-weight: 600;
			color: #fff;
		}

		.stat-bar-container {
			flex: 1;
			height: 10px;
			background: rgba(255, 255, 255, 0.1);
			border-radius: 5px;
			overflow: hidden;
		}

		.stat-bar {
			height: 100%;
			border-radius: 5px;
			transition: width 0.5s ease;
		}

		/* List Items */
		.list-item {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 0.5rem 0;
			border-bottom: 1px solid rgba(255, 255, 255, 0.05);
		}

		.list-item:last-child {
			border-bottom: none;
		}

		.item-name {
			font-size: 0.875rem;
			color: rgba(255, 255, 255, 0.9);
		}

		.item-pct {
			font-size: 0.8125rem;
			font-weight: 600;
			color: rgba(255, 255, 255, 0.6);
		}

		/* EV Spreads */
		.ev-item {
			display: grid;
			grid-template-columns: 60px 1fr auto;
			gap: 0.5rem;
		}

		.ev-nature {
			font-size: 0.8125rem;
			color: #a78bfa;
			font-weight: 500;
		}

		.ev-spread {
			font-size: 0.8125rem;
			color: rgba(255, 255, 255, 0.9);
			font-family: monospace;
		}

		/* API Info Section */
		.api-info-section {
			padding: 4rem 0;
			background: #1a1f26;
			margin-left: 260px;
		}

		.api-card {
			background: rgba(255, 255, 255, 0.03);
			border: 1px solid rgba(255, 255, 255, 0.08);
			border-radius: 16px;
			padding: 2rem;
			max-width: 800px;
			margin: 0 auto;
		}

		.api-card-header {
			display: flex;
			align-items: center;
			gap: 0.75rem;
			margin-bottom: 1rem;
			color: #a78bfa;
		}

		.api-card-header h3 {
			font-size: 1.25rem;
			font-weight: 700;
			color: #fff;
		}

		.api-desc {
			color: rgba(255, 255, 255, 0.7);
			line-height: 1.7;
			margin-bottom: 1.5rem;
		}

		.api-link {
			display: inline-flex;
			align-items: center;
			gap: 0.5rem;
			color: #a78bfa;
			text-decoration: none;
			font-weight: 500;
			transition: all 0.2s ease;
		}

		.api-link:hover {
			color: #c4b5fd;
		}

		/* Custom Scrollbar */
		.pokemon-list::-webkit-scrollbar,
		.sidebar::-webkit-scrollbar {
			width: 6px;
		}

		.pokemon-list::-webkit-scrollbar-track,
		.sidebar::-webkit-scrollbar-track {
			background: rgba(255, 255, 255, 0.02);
		}

		.pokemon-list::-webkit-scrollbar-thumb,
		.sidebar::-webkit-scrollbar-thumb {
			background: rgba(124, 58, 237, 0.3);
			border-radius: 3px;
		}

		/* Responsive */
		@media (max-width: 1200px) {
			.detail-grid {
				grid-template-columns: repeat(2, 1fr);
			}

			.detail-card.ev-spreads-card {
				grid-column: span 2;
			}
		}

		@media (max-width: 992px) {
			.stats-layout {
				flex-direction: column;
			}

			.sidebar {
				position: relative;
				top: 0;
				width: 100%;
				height: auto;
				flex-direction: row;
				flex-wrap: wrap;
				gap: 1rem;
				border-right: none;
				border-bottom: 1px solid rgba(255, 255, 255, 0.08);
			}

			.sidebar-section {
				margin-bottom: 0;
			}

			.pokemon-list-section {
				width: 100%;
				max-height: 200px;
			}

			.main-content {
				margin-left: 0;
			}

			.api-info-section {
				margin-left: 0;
			}
		}

		@media (max-width: 768px) {
			.detail-grid {
				grid-template-columns: 1fr;
			}

			.detail-card.ev-spreads-card {
				grid-column: span 1;
			}

			.detail-header {
				flex-direction: column;
				gap: 1rem;
			}

			.usage-stats-summary {
				width: 100%;
				justify-content: space-around;
			}
		}
	</style>
</body>
</html>
