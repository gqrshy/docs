---
// Minimal loading screen with gradient swipe reveal
---

<div id="loading-screen" class="loading-screen">
	<div class="swipe-overlay"></div>
</div>

<script is:inline>
(function() {
	const hasVisited = sessionStorage.getItem('hasVisited');
	const loadingScreen = document.getElementById('loading-screen');

	if (hasVisited) {
		loadingScreen.style.display = 'none';
		document.body.classList.add('page-revealed');
		return;
	}

	sessionStorage.setItem('hasVisited', 'true');

	// Start reveal animation after brief delay
	setTimeout(() => {
		loadingScreen.classList.add('reveal');

		// After swipe completes, fade in content
		setTimeout(() => {
			document.body.classList.add('page-revealing');
		}, 350);

		// Remove loading screen and finalize
		setTimeout(() => {
			loadingScreen.style.display = 'none';
			document.body.classList.remove('page-revealing');
			document.body.classList.add('page-revealed');
		}, 1100);
	}, 200);
})();
</script>

<style is:global>
/* Hide ALL content until revealed */
body:not(.page-revealed):not(.page-revealing) > *:not(#loading-screen) {
	opacity: 0 !important;
	visibility: hidden !important;
}

/* Revealing state - staggered fade in */
body.page-revealing > main,
body.page-revealing > nav,
body.page-revealing > footer,
body.page-revealing .custom-nav,
body.page-revealing .hero-section,
body.page-revealing .products-section,
body.page-revealing .showcase-section,
body.page-revealing .testimonials-section,
body.page-revealing .language-switcher {
	opacity: 1 !important;
	visibility: visible !important;
	animation: revealFadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

body.page-revealing .custom-nav {
	animation-delay: 0s;
}

body.page-revealing .hero-section {
	animation-delay: 0.05s;
}

body.page-revealing .products-section {
	animation-delay: 0.1s;
}

body.page-revealing .showcase-section {
	animation-delay: 0.15s;
}

body.page-revealing .testimonials-section {
	animation-delay: 0.2s;
}

body.page-revealing > footer,
body.page-revealing .language-switcher {
	animation-delay: 0.25s;
}

@keyframes revealFadeIn {
	from {
		opacity: 0;
		transform: translateY(25px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Revealed state - everything visible */
body.page-revealed > * {
	opacity: 1 !important;
	visibility: visible !important;
}
</style>

<style>
.loading-screen {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	z-index: 99999;
	pointer-events: none;
	overflow: hidden;
}

.swipe-overlay {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: #0f0a1a;
	transform: translateY(0);
	transition: transform 0.65s cubic-bezier(0.76, 0, 0.24, 1);
}

/* Reveal animation - swipe up */
.loading-screen.reveal .swipe-overlay {
	transform: translateY(-100%);
}

/* Glowing edge line */
.swipe-overlay::before {
	content: '';
	position: absolute;
	bottom: 0;
	left: 0;
	width: 100%;
	height: 2px;
	background: linear-gradient(
		90deg,
		transparent 0%,
		rgba(124, 58, 237, 0.5) 10%,
		rgba(167, 139, 250, 1) 30%,
		rgba(236, 72, 153, 0.8) 50%,
		rgba(167, 139, 250, 1) 70%,
		rgba(124, 58, 237, 0.5) 90%,
		transparent 100%
	);
	box-shadow:
		0 0 15px rgba(167, 139, 250, 0.9),
		0 0 30px rgba(124, 58, 237, 0.7),
		0 0 50px rgba(124, 58, 237, 0.4);
}

/* Subtle glow underneath */
.swipe-overlay::after {
	content: '';
	position: absolute;
	bottom: -40px;
	left: 50%;
	transform: translateX(-50%);
	width: 60%;
	height: 80px;
	background: radial-gradient(
		ellipse at center,
		rgba(124, 58, 237, 0.5) 0%,
		transparent 70%
	);
	filter: blur(15px);
}
</style>
