---
// Minimal loading screen with gradient swipe reveal
---

<div id="loading-screen" class="loading-screen">
	<div class="swipe-overlay"></div>
</div>

<script is:inline>
(function() {
	const hasVisited = sessionStorage.getItem('hasVisited');
	const loadingScreen = document.getElementById('loading-screen');

	if (hasVisited) {
		loadingScreen.style.display = 'none';
		document.body.classList.add('revealed');
		return;
	}

	sessionStorage.setItem('hasVisited', 'true');

	// Start reveal animation after brief delay
	setTimeout(() => {
		loadingScreen.classList.add('reveal');
		document.body.classList.add('revealing');

		// Remove loading screen after animation
		setTimeout(() => {
			loadingScreen.style.display = 'none';
			document.body.classList.remove('revealing');
			document.body.classList.add('revealed');
		}, 800);
	}, 400);
})();
</script>

<style is:global>
/* Initial state - hide content until revealed */
body:not(.revealed):not(.revealing) .hero-section,
body:not(.revealed):not(.revealing) .custom-nav {
	opacity: 0;
}

/* Revealing state - fade in content */
body.revealing .hero-section,
body.revealing .custom-nav {
	animation: contentFadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.3s forwards;
}

@keyframes contentFadeIn {
	from {
		opacity: 0;
		transform: translateY(20px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Revealed state */
body.revealed .hero-section,
body.revealed .custom-nav {
	opacity: 1;
}
</style>

<style>
.loading-screen {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	z-index: 99999;
	pointer-events: none;
}

.swipe-overlay {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: linear-gradient(
		to top,
		#0f0a1a 0%,
		#1a1033 40%,
		#251845 70%,
		rgba(124, 58, 237, 0.3) 100%
	);
	transform: translateY(0);
	transition: transform 0.8s cubic-bezier(0.76, 0, 0.24, 1);
}

/* Reveal animation - swipe up */
.loading-screen.reveal .swipe-overlay {
	transform: translateY(-100%);
}

/* Subtle gradient glow at the edge */
.swipe-overlay::after {
	content: '';
	position: absolute;
	bottom: 0;
	left: 0;
	width: 100%;
	height: 4px;
	background: linear-gradient(
		90deg,
		transparent 0%,
		rgba(167, 139, 250, 0.8) 20%,
		rgba(124, 58, 237, 1) 50%,
		rgba(167, 139, 250, 0.8) 80%,
		transparent 100%
	);
	box-shadow:
		0 0 30px rgba(124, 58, 237, 0.8),
		0 0 60px rgba(124, 58, 237, 0.4);
}
</style>
