---
// Loading screen that shows only on first visit
---

<div id="loading-screen" class="loading-screen">
	<div class="loading-content">
		<img src="/gashistudios.png" alt="GashiStudios" class="loading-logo" />
		<div class="loading-bar">
			<div class="loading-progress"></div>
		</div>
	</div>
</div>

<script is:inline>
(function() {
	const hasVisited = sessionStorage.getItem('hasVisited');
	const loadingScreen = document.getElementById('loading-screen');

	if (hasVisited) {
		loadingScreen.style.display = 'none';
	} else {
		sessionStorage.setItem('hasVisited', 'true');
		setTimeout(() => {
			loadingScreen.classList.add('fade-out');
			setTimeout(() => {
				loadingScreen.style.display = 'none';
			}, 500);
		}, 2500);
	}
})();
</script>

<style>
.loading-screen {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: linear-gradient(135deg, #0f0a1a 0%, #1a1033 50%, #0f0a1a 100%);
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 99999;
	transition: opacity 0.5s ease;
}

.loading-screen.fade-out {
	opacity: 0;
}

.loading-content {
	text-align: center;
}

.loading-logo {
	width: 120px;
	height: 120px;
	margin-bottom: 2rem;
	animation: pulse 2s ease-in-out infinite;
	filter: drop-shadow(0 0 30px rgba(124, 58, 237, 0.5));
}

@keyframes pulse {
	0%, 100% { transform: scale(1); opacity: 1; }
	50% { transform: scale(1.05); opacity: 0.8; }
}

.loading-bar {
	width: 200px;
	height: 4px;
	background: rgba(124, 58, 237, 0.2);
	border-radius: 2px;
	overflow: hidden;
}

.loading-progress {
	width: 0%;
	height: 100%;
	background: linear-gradient(90deg, #7c3aed, #a78bfa);
	border-radius: 2px;
	animation: loading 2.5s ease-in-out forwards;
}

@keyframes loading {
	0% { width: 0%; }
	100% { width: 100%; }
}
</style>
