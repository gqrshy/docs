---
// Custom navigation bar - polarcub-inspired minimal transparent design
---

<nav class="custom-nav">
	<div class="nav-container">
		<!-- Navigation Links - Left side -->
		<div class="nav-links">
			<a href="/" class="nav-link" data-i18n="navHome">home</a>
			<a href="#products" class="nav-link" data-i18n="navProducts">products</a>
			<a href="/docs/cobbleranked/" class="nav-link" data-i18n="navDocs">documents</a>
			<a href="/terms" class="nav-link" data-i18n="navTerms">terms</a>
			<a href="#contact" class="nav-link" data-i18n="navContact">contact</a>
		</div>

		<!-- Shop Button - Right side -->
		<a href="https://gashistudios.booth.pm/" target="_blank" class="shop-btn">
			<img src="/shop.svg" alt="" class="shop-icon" />
			<span class="shop-text">shop</span>
		</a>
	</div>

	<!-- Decorative wave lines below nav -->
	<div class="wave-deco-container">
		<svg class="wave-line wave-1" viewBox="0 0 120 24" preserveAspectRatio="none">
			<path d="M0,12 Q15,4 30,12 T60,12 T90,12 T120,12" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
		</svg>
		<svg class="wave-line wave-2" viewBox="0 0 100 20" preserveAspectRatio="none">
			<path d="M0,10 Q12,4 25,10 T50,10 T75,10 T100,10" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
		</svg>
		<svg class="wave-line wave-3" viewBox="0 0 80 16" preserveAspectRatio="none">
			<path d="M0,8 Q10,3 20,8 T40,8 T60,8 T80,8" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round"/>
		</svg>
	</div>
</nav>

<!-- Mobile menu button -->
<button class="mobile-menu-btn" id="mobile-menu-btn" aria-label="Menu">
	<span class="menu-line"></span>
	<span class="menu-line"></span>
	<span class="menu-line"></span>
</button>

<!-- Mobile overlay menu -->
<div class="mobile-menu-overlay" id="mobile-menu-overlay">
	<div class="mobile-menu-content">
		<a href="/" class="mobile-link" data-i18n="navHome">home</a>
		<a href="#products" class="mobile-link" data-i18n="navProducts">products</a>
		<a href="/docs/cobbleranked/" class="mobile-link" data-i18n="navDocs">documents</a>
		<a href="/terms" class="mobile-link" data-i18n="navTerms">terms</a>
		<a href="#contact" class="mobile-link" data-i18n="navContact">contact</a>
		<a href="https://gashistudios.booth.pm/" target="_blank" class="mobile-shop-btn">
			<img src="/shop.svg" alt="" class="shop-icon" />
			<span>shop</span>
		</a>
	</div>
</div>

<script is:inline>
(function() {
	const translations = {
		en: {
			navHome: "home",
			navProducts: "products",
			navDocs: "documents",
			navTerms: "terms",
			navContact: "contact"
		},
		ja: {
			navHome: "ホーム",
			navProducts: "プロダクト",
			navDocs: "ドキュメント",
			navTerms: "利用規約",
			navContact: "お問い合わせ"
		}
	};

	function applyNavTranslations(lang) {
		const t = translations[lang] || translations.en;
		document.querySelectorAll('[data-i18n]').forEach(el => {
			const key = el.getAttribute('data-i18n');
			if (t[key] && (el.closest('.custom-nav') || el.closest('.mobile-menu-overlay'))) {
				el.textContent = t[key];
			}
		});
	}

	function init() {
		const lang = window.GashiLang?.get() || 'en';
		applyNavTranslations(lang);

		// Mobile menu toggle
		const menuBtn = document.getElementById('mobile-menu-btn');
		const overlay = document.getElementById('mobile-menu-overlay');

		if (menuBtn && overlay) {
			menuBtn.addEventListener('click', () => {
				menuBtn.classList.toggle('active');
				overlay.classList.toggle('active');
				document.body.style.overflow = overlay.classList.contains('active') ? 'hidden' : '';
			});

			// Close menu on link click
			overlay.querySelectorAll('a').forEach(link => {
				link.addEventListener('click', () => {
					menuBtn.classList.remove('active');
					overlay.classList.remove('active');
					document.body.style.overflow = '';
				});
			});
		}
	}

	window.addEventListener('langChange', (e) => {
		applyNavTranslations(e.detail.lang);
	});

	if (document.readyState === 'loading') {
		document.addEventListener('DOMContentLoaded', init);
	} else {
		init();
	}
})();
</script>

<style>
.custom-nav {
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	z-index: 1000;
	background: transparent;
	padding: 1.5rem 3rem;
}

.nav-container {
	max-width: 1400px;
	margin: 0 auto;
	display: flex;
	align-items: center;
	justify-content: space-between;
}

/* Nav Links */
.nav-links {
	display: flex;
	gap: 3rem;
}

.nav-link {
	color: #454141;
	text-decoration: none;
	font-size: 0.95rem;
	font-weight: 500;
	transition: color 0.2s ease;
	letter-spacing: 0.01em;
}

.nav-link:hover {
	color: #7c6c9a;
}

/* Shop Button */
.shop-btn {
	display: flex;
	align-items: center;
	gap: 0.5rem;
	background: linear-gradient(135deg, #ff4080 0%, #ff6090 100%);
	color: #fff;
	text-decoration: none;
	padding: 0.6rem 1.25rem;
	border-radius: 50px;
	font-size: 0.9rem;
	font-weight: 600;
	transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
	box-shadow: 0 4px 15px rgba(255, 64, 128, 0.3);
}

.shop-btn:hover {
	transform: translateY(-2px) scale(1.03);
	box-shadow: 0 6px 20px rgba(255, 64, 128, 0.4);
}

.shop-icon {
	width: 18px;
	height: 18px;
}

.shop-text {
	letter-spacing: 0.02em;
}

/* Wave decoration */
.wave-deco-container {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	display: flex;
	flex-direction: column;
	gap: 4px;
	pointer-events: none;
	opacity: 0.25;
}

.wave-line {
	color: #6a6a7a;
}

.wave-1 {
	width: 100px;
	height: 20px;
}

.wave-2 {
	width: 80px;
	height: 16px;
	margin-left: 10px;
}

.wave-3 {
	width: 60px;
	height: 12px;
	margin-left: 20px;
}

/* Mobile menu button */
.mobile-menu-btn {
	display: none;
	position: fixed;
	top: 1.25rem;
	right: 1.25rem;
	z-index: 1002;
	width: 44px;
	height: 44px;
	border: none;
	background: rgba(255, 255, 255, 0.9);
	border-radius: 12px;
	cursor: pointer;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	gap: 5px;
	box-shadow: 0 4px 15px rgba(124, 108, 154, 0.15);
	backdrop-filter: blur(10px);
}

.menu-line {
	width: 20px;
	height: 2px;
	background: #454141;
	border-radius: 2px;
	transition: all 0.3s ease;
}

.mobile-menu-btn.active .menu-line:nth-child(1) {
	transform: rotate(45deg) translate(5px, 5px);
}

.mobile-menu-btn.active .menu-line:nth-child(2) {
	opacity: 0;
}

.mobile-menu-btn.active .menu-line:nth-child(3) {
	transform: rotate(-45deg) translate(5px, -5px);
}

/* Mobile overlay */
.mobile-menu-overlay {
	display: none;
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	z-index: 1001;
	background: linear-gradient(135deg, #edecff 0%, #e8e4ff 50%, #e0e8ff 100%);
	opacity: 0;
	pointer-events: none;
	transition: opacity 0.3s ease;
}

.mobile-menu-overlay.active {
	opacity: 1;
	pointer-events: auto;
}

.mobile-menu-content {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	height: 100%;
	gap: 2rem;
}

.mobile-link {
	color: #454141;
	text-decoration: none;
	font-size: 1.5rem;
	font-weight: 500;
	transition: color 0.2s ease;
}

.mobile-link:hover {
	color: #7c6c9a;
}

.mobile-shop-btn {
	display: flex;
	align-items: center;
	gap: 0.5rem;
	background: linear-gradient(135deg, #ff4080 0%, #ff6090 100%);
	color: #fff;
	text-decoration: none;
	padding: 0.75rem 1.5rem;
	border-radius: 50px;
	font-size: 1rem;
	font-weight: 600;
	margin-top: 1rem;
}

.mobile-shop-btn .shop-icon {
	width: 20px;
	height: 20px;
}

/* Responsive */
@media (max-width: 900px) {
	.custom-nav {
		display: none;
	}

	.mobile-menu-btn {
		display: flex;
	}

	.mobile-menu-overlay {
		display: block;
	}
}

@media (max-width: 1100px) {
	.nav-links {
		gap: 2rem;
	}

	.custom-nav {
		padding: 1.25rem 2rem;
	}
}
</style>
